!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}var has=Object.prototype.hasOwnProperty,prefix="~";Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event,exists){var evt=prefix?prefix+event:event,available=this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++)ee[i]=available[i].fn;return ee},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.once=function(event,fn,context){var listener=new EE(fn,context||this,!0),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return 0==--this._eventsCount?this._events=new Events:delete this._events[evt],this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||(0==--this._eventsCount?this._events=new Events:delete this._events[evt]);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:0==--this._eventsCount?this._events=new Events:delete this._events[evt]}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&(0==--this._eventsCount?this._events=new Events:delete this._events[evt])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,void 0!==module&&(module.exports=EventEmitter)},{}],2:[function(require,module,exports){"use strict";var ConnectorV1=require("./v1/connector.js"),ConnectorV2=require("./v2/connector.js");!function(){var DiyaSelector=void 0;try{DiyaSelector=d1.DiyaSelector}catch(error){if("ReferenceError"!==error.name)throw error;var _d=require("diya-sdk");DiyaSelector=_d.DiyaSelector}DiyaSelector.prototype.IEQ=function(){var _this=this;return new Promise(function(resolve,reject){_this.request({service:"ieq",func:"GetAPIVersion"},function(peerId,err,data){null==err?resolve(data):reject(err)})}).then(function(data){if(2===data)return new ConnectorV2(_this);throw new Error("Cannot instantiate connector")}).catch(function(err){if(err.includes("Method 'GetAPIVersion' not found in introspection data"))return new ConnectorV1(_this);throw new Error(err)})}}()},{"./v1/connector.js":5,"./v2/connector.js":7,"diya-sdk":void 0}],3:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StopCondition=function(_Error){function StopCondition(msg){_classCallCheck(this,StopCondition);var _this=_possibleConstructorReturn(this,(StopCondition.__proto__||Object.getPrototypeOf(StopCondition)).call(this,msg));return _this.name="StopCondition",_this}return _inherits(StopCondition,_Error),StopCondition}(Error);module.exports=StopCondition},{}],4:[function(require,module,exports){"use strict";var formatTime=function(time){return new Date(time).getTime()},getTimeSampling=function(time,_maxSamples){var maxSamples=_maxSamples;if(null!=time){null==maxSamples&&(maxSamples=300);var range=time.range;null==range&&(range=1);var timeInSeconds={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3},samplingThresholds=[{thresh:maxSamples,sampling:"Second"},{thresh:60*maxSamples,sampling:"Minute"},{thresh:3600*maxSamples,sampling:"Hour"},{thresh:24*maxSamples*3600,sampling:"Day"},{thresh:7*maxSamples*24*3600,sampling:"Week"},{thresh:30*maxSamples*24*3600,sampling:"Month"}],timeUnit=time.rangeUnit.toLowerCase(),last=timeUnit.length-1;"s"===timeUnit[last]&&(timeUnit=timeUnit.slice(0,last));var timeInSec=range*timeInSeconds[timeUnit],timeSampling="Year";return samplingThresholds.find(function(samplingThreshold){return timeSampling=samplingThreshold.sampling,timeInSec<samplingThreshold.thresh}),timeSampling}};module.exports={formatTime:formatTime,getTimeSampling:getTimeSampling}},{}],5:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WatcherV1=require("../v1/watcher.js"),formatTime=require("../timecontrol.js").formatTime,ConnectorV1=function(){function ConnectorV1(selector){return _classCallCheck(this,ConnectorV1),this.selector=selector,this.dataModel={},this._coder=selector.encode(),this.watchers=[],this.dataConfig={criteria:{time:{start:null,end:null,range:null},robots:null,places:null},operator:"last",sensors:null,sampling:null},this}return _createClass(ConnectorV1,[{key:"getUpdateDataObject",value:function(){return{path:"/fr/partnering/Ieq",interface:"fr.partnering.Ieq"}}},{key:"getCsvDataObject",value:function(){return{path:"/fr/partnering/Ieq",interface:"fr.partnering.Ieq"}}},{key:"getDataModel",value:function(){return this.dataModel}},{key:"getDataRange",value:function(){return this.dataModel.range}},{key:"DataConfig",value:function(newDataConfig){return null!=newDataConfig?(this.dataConfig=newDataConfig,this):this.dataConfig}},{key:"DataOperator",value:function(newOperator){return null!=newOperator?(this.dataConfig.operator=newOperator,this):this.dataConfig.operator}},{key:"DataSampling",value:function(numSamples){return null!=numSamples?(this.dataConfig.sampling=numSamples,this):this.dataConfig.sampling}},{key:"DataTime",value:function(newTimeStart,newTimeEnd,newRange){return null!=newTimeStart||null!=newTimeEnd||null!=newRange?(this.dataConfig.criteria.time.start=formatTime(newTimeStart),this.dataConfig.criteria.time.end=formatTime(newTimeEnd),this.dataConfig.criteria.time.range=newRange,this):{start:new Date(this.dataConfig.criteria.time.start),end:new Date(this.dataConfig.criteria.time.end),range:new Date(this.dataConfig.criteria.time.range)}}},{key:"DataRobotIds",value:function(robotIds){return null!=robotIds?(this.dataConfig.criteria.robots=robotIds,this):this.dataConfig.criteria.robots}},{key:"DataPlaceIds",value:function(placeIds){return null!=placeIds?(this.dataConfig.criteria.placeId=placeIds,this):this.dataConfig.criteria.places}},{key:"getDataByName",value:function(sensorNames){var data=[];for(var n in sensorNames)data.push(this.dataModel[sensorNames[n]]);return data}},{key:"updateData",value:function(callback,dataConfig){this._updateData(callback,dataConfig,"DataRequest")}},{key:"_updateData",value:function(callback,dataConfig,funcName){var _this=this;dataConfig&&this.DataConfig(dataConfig),this.selector.request({service:"ieq",func:funcName,data:{data:JSON.stringify(this.dataConfig)},obj:this.getUpdateDataObject()},function(dnId,err,_data){var data=JSON.parse(_data);if(null!=err)return void("object"===(void 0===err?"undefined":_typeof(err))&&"string"==typeof err.name&&callback(null,err.name));callback(_this._getDataModelFromRecv(data))})}},{key:"getConfinementLevel",value:function(){return this.confinement}},{key:"getAirQualityLevel",value:function(){return this.airQuality}},{key:"getEnvQualityLevel",value:function(){return this.envQuality}},{key:"watch",value:function(config,callback){var _this2=this;if(null==callback||"function"!=typeof callback)return null;var watcher=this.createWatcher(config);return this.watchers.push(watcher),watcher.on("data",function(data){callback(_this2._getDataModelFromRecv(data))}),watcher.on("stop",this._removeWatcher),watcher}},{key:"createWatcher",value:function(config){return new WatcherV1(this.selector,config)}},{key:"_removeWatcher",value:function(watcher){this.watchers.find(function(el,id,watchers){return watcher===el&&(watchers.splice(id,1),!0)})}},{key:"closeSubscriptions",value:function(){console.warn("Deprecated function use stopWatchers instead"),this.stopWatchers()}},{key:"stopWatchers",value:function(){var _this3=this;this.watchers.forEach(function(watcher){watcher.removeListener("stop",_this3._removeWatcher),watcher.stop()}),this.watchers=[]}},{key:"getCSVData",value:function(_csvConfig,callback){var csvConfig=_csvConfig;csvConfig&&"number"!=typeof csvConfig.nlines&&(csvConfig.nlines=void 0),csvConfig&&"string"!=typeof csvConfig.lang&&(csvConfig.lang=void 0);var dataConfig=JSON.stringify({criteria:{time:{start:formatTime(csvConfig.startTime),end:formatTime(csvConfig.endTime),sampling:csvConfig.timeSample},places:[],robots:[]},sensors:csvConfig.sensorNames,sampling:csvConfig.nlines,lang:csvConfig.lang});this.selector.request({service:"ieq",func:"CsvDataRequest",data:{data:dataConfig},obj:this.getCsvDataObject()},function(dnId,err,data){if(err)return void("object"===(void 0===err?"undefined":_typeof(err))&&"string"==typeof err.name&&callback(null,err.name));callback(data)})}},{key:"getDataMapData",value:function(dataConfig,callback){console.warn('This function will be deprecated. Please use "getIeqData" instead.'),this.getIeqData(dataConfig,callback)}},{key:"getIeqData",value:function(dataConfig,callback){this._updateData(callback,dataConfig,"DataRequest")}},{key:"getHeatMapData",value:function(sensorNames,time,sample,callback){var dataConfig={criteria:{time:{start:formatTime(time.startEpoch),end:formatTime(time.endEpoch),sampling:sample},places:[],robots:[]},sensors:sensorNames};console.warn('This function will be deprecated. Please use "getIeqData" instead.'),this.getIeqData(dataConfig,callback)}},{key:"_getDataModelFromRecv",value:function(data){var dataModel=null;if(null!=data)for(var n in data)if("header"!==n&&"err"!==n){if(null!=data[n].err&&data[n].err.st>0)continue;dataModel||(dataModel={}),dataModel[n]||(dataModel[n]={}),dataModel[n].id=n,dataModel[n].range=data[n].range,dataModel[n].timeRange=data[n].timeRange,dataModel[n].label=data[n].label,dataModel[n].unit=data[n].unit,dataModel[n].precision=data[n].precision,dataModel[n].category=data[n].category,dataModel[n].zoomRange=[0,100],dataModel[n].confortRange=data[n].confortRange,dataModel[n].qualityConfig={indexRange:data[n].indexRange},dataModel[n].time=this._coder.from(data[n].time,"b64",8),dataModel[n].data=null!=data[n].data?this._coder.from(data[n].data,"b64",4):null!=data[n].avg?this._coder.from(data[n].avg.d,"b64",4):null,dataModel[n].qualityIndex=null!=data[n].data?this._coder.from(data[n].index,"b64",4):null!=data[n].avg?this._coder.from(data[n].avg.i,"b64",4):null,dataModel[n].robotId=this._coder.from(data[n].robotId,"b64",4),null!=dataModel[n].robotId&&function(){var dicoRobot={};data.header.robots.forEach(function(el){dicoRobot[el.id]=el.name}),dataModel[n].robotId=dataModel[n].robotId.map(function(el){return dicoRobot[el]})}(),dataModel[n].placeId=this._coder.from(data[n].placeId,"b64",4),dataModel[n].x=null,dataModel[n].y=null,null!=data[n].avg&&(dataModel[n].avg={d:this._coder.from(data[n].avg.d,"b64",4),i:this._coder.from(data[n].avg.i,"b64",4)}),null!=data[n].min&&(dataModel[n].min={d:this._coder.from(data[n].min.d,"b64",4),i:this._coder.from(data[n].min.i,"b64",4)}),null!=data[n].max&&(dataModel[n].max={d:this._coder.from(data[n].max.d,"b64",4),i:this._coder.from(data[n].max.i,"b64",4)}),null!=data[n].stddev&&(dataModel[n].stddev={d:this._coder.from(data[n].stddev.d,"b64",4),i:this._coder.from(data[n].stddev.i,"b64",4)}),null!=data[n].stddev&&(dataModel[n].stddev={d:this._coder.from(data[n].stddev.d,"b64",4),i:this._coder.from(data[n].stddev.i,"b64",4)}),null!=data[n].x&&(dataModel[n].x=this._coder.from(data[n].x,"b64",4)),null!=data[n].y&&(dataModel[n].y=this._coder.from(data[n].y,"b64",4)),dataModel[n].trend="mss"}return this.dataModel=dataModel,dataModel}}]),ConnectorV1}();module.exports=ConnectorV1},{"../timecontrol.js":4,"../v1/watcher.js":6}],6:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),EventEmitter=require("eventemitter3"),isBrowser="undefined"!=typeof window,Promise=void 0;Promise=isBrowser?window.Promise:require("bluebird");var StopCondition=require("../stopConditionError.js"),getTimeSampling=require("../timecontrol.js").getTimeSampling,MAXSAMPLING=300,WatcherV1=function(_EventEmitter){function WatcherV1(selector,_config){_classCallCheck(this,WatcherV1);var _this=_possibleConstructorReturn(this,(WatcherV1.__proto__||Object.getPrototypeOf(WatcherV1)).call(this));_this.selector=selector,_this.state="running",_this.reconnectionPeriod=0,_this.maxReconnectionPeriod=3e5;var options={criteria:{time:{}},operators:["avg","min","max","stddev"]};return _config.robots instanceof Array&&(options.criteria.robots=_config.robots),null!=_config.timeRange&&"string"==typeof _config.timeRange?options.criteria.time.rangeUnit=_config.timeRange:options.criteria.time.rangeUnit="hours",null!=_config.category&&"string"==typeof _config.category?options.category=_config.category:options.category="ieq",null!=_config.sampling&&"number"==typeof _config.sampling?options.sampling=_config.sampling:options.sampling=MAXSAMPLING,options.sampling>MAXSAMPLING&&(options.sampling=300),options.criteria.time.sampling=getTimeSampling(options.criteria.time,options.sampling),_this.options=options,_this.watch(options),_this}return _inherits(WatcherV1,_EventEmitter),_createClass(WatcherV1,[{key:"watch",value:function(options){var _this2=this;new Promise(function(resolve,reject){_this2.selector.request({service:"ieq",func:"DataRequest",data:{data:JSON.stringify(options)},obj:_this2.getDataRequestObject()},function(dnId,err,dataString){if(null!=err)return void reject(err);"stopped"===_this2.state&&reject(new StopCondition);var data=JSON.parse(dataString);_this2.emit("data",data),resolve()})}).then(function(){return new Promise(function(resolve,reject){_this2.subscription=_this2.selector.subscribe({service:"ieq",func:options.criteria.time.sampling,data:{data:options},obj:_this2.getFireDataObject()},function(dnd,err,_data){var data=_data;if(null!=err)return void reject(err);data=JSON.parse(data),_this2.emit("data",data),_this2.reconnectionPeriod=0,resolve()})})}).catch(function(err){"StopCondition"!==err.name&&(_this2._closeSubscription(),_this2.reconnectionPeriod=_this2.reconnectionPeriod+1e3,_this2.reconnectionPeriod>_this2.maxReconnectionPeriod&&(_this2.reconnectionPeriod=_this2.maxReconnectionPeriod),_this2.watchTentative=setTimeout(function(){_this2.watch(options)},_this2.reconnectionPeriod))})}},{key:"_closeSubscription",value:function(){null!=this.subscription&&(this.subscription.close(),this.subscription=null)}},{key:"stop",value:function(){this.state="stopped",null!=this.watchTentative&&clearTimeout(this.watchTentative),this._closeSubscription(),this.emit("stop"),this.removeAllListeners()}}],[{key:"getDataRequestObject",value:function(){return{path:"/fr/partnering/Ieq",interface:"fr.partnering.Ieq"}}},{key:"getFireDataObject",value:function(){return{path:"/fr/partnering/Ieq",interface:"fr.partnering.Ieq"}}}]),WatcherV1}(EventEmitter);module.exports=WatcherV1},{"../stopConditionError.js":3,"../timecontrol.js":4,bluebird:void 0,eventemitter3:1}],7:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WatcherV2=require("../v2/watcher.js"),ConnectorV1=require("../v1/connector.js"),ConnectorV2=function(_ConnectorV){function ConnectorV2(selector){var _ret;_classCallCheck(this,ConnectorV2);var _this=_possibleConstructorReturn(this,(ConnectorV2.__proto__||Object.getPrototypeOf(ConnectorV2)).call(this,selector));return _this.selector=selector,_ret=_this,_possibleConstructorReturn(_this,_ret)}return _inherits(ConnectorV2,_ConnectorV),_createClass(ConnectorV2,[{key:"getUpdateDataObject",value:function(){return{path:"/fr/partnering/Ieq/Update/"+WatcherV2.formatPeerName(this.selector._connection.self()),interface:"fr.partnering.Ieq.Update"}}},{key:"getCsvDataObject",value:function(){return{path:"/fr/partnering/Ieq/Export/"+WatcherV2.formatPeerName(this.selector._connection.self()),interface:"fr.partnering.Ieq.Export"}}},{key:"createWatcher",value:function(config){return new WatcherV2(this.selector,config)}}]),ConnectorV2}(ConnectorV1);module.exports=ConnectorV2},{"../v1/connector.js":5,"../v2/watcher.js":8}],8:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WatcherV1=require("../v1/watcher.js"),WatcherV2=function(_WatcherV){function WatcherV2(selector,_config){_classCallCheck(this,WatcherV2);var _this=_possibleConstructorReturn(this,(WatcherV2.__proto__||Object.getPrototypeOf(WatcherV2)).call(this,selector,_config));return _this.selector=selector,_this}return _inherits(WatcherV2,_WatcherV),_createClass(WatcherV2,[{key:"getDataRequestObject",value:function(){return{path:"/fr/partnering/Ieq/Request/"+WatcherV2.formatPeerName(this.selector._connection.self()),interface:"fr.partnering.Ieq.Request"}}},{key:"getFireDataObject",value:function(){return{path:"/fr/partnering/Ieq/Fire/"+WatcherV2.formatPeerName(this.selector._connection.self()),interface:"fr.partnering.Ieq.Fire"}}}],[{key:"formatPeerName",value:function(input){var delimiter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return input.split(delimiter).map(function(s){return s.charAt(0).toUpperCase()+s.slice(1)}).join("")}}]),WatcherV2}(WatcherV1);module.exports=WatcherV2},{"../v1/watcher.js":6}]},{},[2]);
